/**
 * Create a validation for the address form.
 * @param  formElem jQuery form element object.
 *
 * @return  a jQuery validator object
 */
FORM_VALIDATOR.addressForm = function (formElem) {

  var validatorObj = formElem.validate({
    rules: {
      country: {
        required: true,
        maxlength: 100
      },
      address1: {
        required: true,
        maxlength: 100
      },
      city: {
        required: true,
        maxlength: 100
      },
      state: {
        required: true,
        maxlength: 100
      },
      zipCode: {
        required: true,
        maxlength: 12
      }
    },
    errorPlacement: function (error, element) {
      if (element.parent().find('.help-block').length === 0) {
        element.parent().append(error);
      }
    },
    messages: {
      country: {
        required: "<span data-l10n-id='country_select_required'></span>",
        maxlength: "Country must be less than 100 characters."
      },
      address1: {
        required: "<span data-l10n-id='address1_required'></span>",
        maxlength: "Address1 must be less than 100 characters."
      },
      city: {
        required: "<span data-l10n-id='city_required'></span>",
        maxlength: "City must be less than 100 characters."
      },
      state: {
        required: "<span data-l10n-id='state_required'></span>",
        maxlength: "State must be less than 100 characters."
      },
      zipCode: {
        required: "<span data-l10n-id='postal_code_required'></span>",
        maxlength: "Postal code is too long"
      }
    }
  });

  return validatorObj;
};